[client]
port                                = 3306
socket                              = /logs/mysql0/mysqld.sock


[mysql]
default_character_set               = utf8


[mysqladmin]
default_character_set               = utf8


[mysqldump]
default_character_set               = utf8
quick
max_allowed_packet                  = 256MB


[myisamchk]
default_character_set               = utf8
key_buffer_size                     = 1GB
myisam_sort_buffer_size             = 8MB
read_buffer_size                    = 8MB
write_buffer_size                   = 2MB


[mysqlhotcopy]
interactive_timeout


[mysqlimport]
default_character_set               = utf8


[mysqlshow]
default_character_set               = utf8


[myisamchk]
default_character_set               = utf8


[myisampack]
default_character_set               = utf8


[mysqld]
# tracing
#gdb
core_file
#debug                               = d:t:i:o,/tmp/mysqld.trace
#thread_handling                     = no-threads

# generic configuration options
port                                = 3306
socket                              = /logs/mysql0/mysqld.sock
#skip_name_resolve
pid_file                            = /logs/mysql0/mysqld.pid
user                                = mysql
large_pages                         = 0
basedir                             = /usr/local/mysql/
datadir                             = /data/mysql0/
tmpdir                              = /tmp/
local_infile                        = 1
character_set_filesystem            = utf8
character_set_server                = utf8
collation_server                    = utf8_general_ci
default_storage_engine              = InnoDB
max_allowed_packet                  = 256MB
max_connections                     = 2064
max_user_connections                = 2048

# general logging
log_error                           = /logs/mysql0/mysqld.err
log_warnings                        = 1
log_output                          = NONE  #TABLE,FILE,NONE
general_log                         = 0
general_log_file                    = general.log
slow_query_log                      = 0
slow_query_log_file                 = slow.log
log_queries_not_using_indexes       = 0
log_slow_admin_statements           = 0

# privilege system
#skip_grant_tables

# binlog
log_bin                             = /logs/mysql0/mysql-bin
log_bin_index                       = /logs/mysql0/mysql-bin.index
binlog_format                       = MIXED
max_binlog_size                     = 1GB
sync_binlog                         = 0
#binlog_do_db                        = <db_name>
#binlog_ignore_db                    = <db_name>
expire_logs_days                    = 7

# replication:master
server_id                           = 1
#auto_increment_increment            = 10
#auto_increment_offset               = 1
#replicate_do_db                     = <db_name>
replicate_ignore_db                 = mysql
replicate_ignore_db                 = mysql.%
#replicate_do_table                  = <db_name>.<tbl_name>
#replicate_wild_do_table             = <wild_db_name>.<wild_tbl_name>
#replicate_ignore_table              = <db_name>.<tbl_name>
#replicate_wild_ignore_table         = <wild_db_name>.<wild_tbl_name>
#replicate_rewrite_db                = <from_db_name>_><to_db_name>
#report_port                         = <if_non_default>

# replication:slave
#init_slave                          = ''
log_slave_updates                   = 0
replicate_same_server_id            = 0
master_info_file                    = /logs/mysql0/master.info
relay_log_info_file                 = /logs/mysql0/relay-log.info
relay_log                           = /logs/mysql0/relay-bin
relay_log_index                     = /logs/mysql0/relay-bin.index
relay_log_recovery                  = 0
slave_exec_mode                     = STRICT
slave_compressed_protocol           = 0
slave_load_tmpdir                   = /logs/tmp/
slave_net_timeout                   = 3600
skip_slave_start                    = 0
#slave_skip_errors                   = 
slave_type_conversions              = 
sync_master_info                    = 0
sync_relay_log                      = 0
sync_relay_log_info                 = 0
report_host                         = 
report_port                         = 3306

# general optimization
query_cache_size                    = 0
query_cache_limit                   = 4M
query_cache_type                    = 2  #1,0,2
table_open_cache                    = 32KB
sort_buffer_size                    = 8MB
net_buffer_length                   = 64KB
read_buffer_size                    = 8MB
read_rnd_buffer_size                = 4MB

# MyISAM
key_buffer_size                     = 64MB
myisam_sort_buffer_size             = 8MB

# InnoDB
innodb_buffer_pool_size             = 16GB
innodb_additional_mem_pool_size     = 128MB
innodb_data_file_path               = ibdata1:1G:autoextend
innodb_file_per_table               = 1
innodb_flush_log_at_trx_commit      = 2  #1,0,2
innodb_log_buffer_size              = 16MB
innodb_log_files_in_group           = 2
innodb_log_file_size                = 64MB
innodb_thread_concurrency           = 0
innodb_flush_method                 = O_DIRECT
innodb_lock_wait_timeout            = 50
innodb_data_home_dir                = /data/mysql0/
innodb_log_group_home_dir           = /data/mysql0/